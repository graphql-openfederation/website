---
import FAQ from 'src/components/FAQ';
import Navbar from 'src/components/Navbar.astro';
import GraphParticles from '../components/GraphParticles.astro';
import Layout from '../layouts/Layout.astro';
import LogoWall from 'src/components/LogoWall.astro';
import Logo from 'src/components/OpenFederationLogo.astro';
import Footer from 'src/components/Footer.astro';
---

<script>
  import { createPopup } from '@typeform/embed';
  import '@typeform/embed/build/css/popup.css';

  const toggle = createPopup('vVVVtoyJ');
  document.getElementById('typeform')?.addEventListener('click', () => {
    toggle.open();
  });
</script>

<Layout title="Open Federation Initiative">
  <main class="min-h-screen flex flex-col items-start">
    <Navbar />

    <section class="w-full py-24 px-4 md:px-8 lg:px-12 mx-auto max-w-screen-2xl">
      <h1 class="text-5xl md:text-7xl xl:text-9xl max-w-2xl xl:max-w-4xl">Open Federation Initiative</h1>
      <p class="text-lg md:text-2xl font-light mt-8 max-w-6xl">
        Open Federation is a community-driven open source initiative to create and maintain a specification for
        federated GraphQL APIs. Be part of the future; let's craft together.
      </p>
      <div class="flex flex-col md:flex-row w-full items-center gap-4 mt-8">
        <a
          target="_blank"
          href="https://spec.open-federation.org/"
          class="bg-black hover:opacity-80 px-6 py-3 text-center text-white transition-colors w-full md:w-max"
          >Open Spec</a
        >
        <button id="typeform" class="text-black px-6 py-3 border hover:bg-gray-100 transition-colors w-full md:w-max"
          >Subscribe for Updates</button
        >
      </div>
    </section>

    <LogoWall />

    <section
      id="solutions"
      class="xl:grid grid-cols-5 py-24 w-full space-y-4 px-4 md:px-8 lg:px-12 mx-auto max-w-screen-2xl"
    >
      <div class="col-span-2">
        <h2 class="text-2xl mb-12 md:text-4xl xl:text-6xl max-w-2xl xl:max-w-4xl !leading-tight">Solutions</h2>
      </div>
      <div class="col-span-3 flex flex-col md:grid grid-cols-2 gap-8">
        <a
          target="_blank"
          href="https://wundergraph.com/cosmo"
          class="flex flex-col items-start border rounded-md h-96 w-full hover:border-gray-500 transition-colors"
        >
          <div
            class="p-4 h-2/3 bg-black w-full rounded-t-md text-white flex items-center gap-x-2 justify-center text-2xl"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" viewBox="0 0 1080 1080" fill="none">
              <path
                fill="currentColor"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M447.099 231.913C405.967 244.337 367.742 264.878 334.682 292.323C320.832 268.71 298.796 251.002 272.754 242.557C313.865 205.575 362.202 177.525 414.709 160.178C467.216 142.832 522.751 136.567 577.803 141.781C632.855 146.994 686.227 163.571 734.544 190.465C746.769 197.27 758.603 204.698 770.004 212.711C770.394 212.542 770.785 212.376 771.179 212.213C785.976 206.085 802.259 204.482 817.967 207.607C833.676 210.733 848.105 218.446 859.429 229.771C870.754 241.096 878.465 255.525 881.589 271.233C884.712 286.941 883.107 303.223 876.976 318.018C870.845 332.814 860.464 345.459 847.146 354.355C833.828 363.252 818.171 367.999 802.154 367.997C791.52 367.997 780.991 365.902 771.167 361.833C761.343 357.763 752.417 351.799 744.898 344.28C737.379 336.76 731.415 327.834 727.347 318.01C723.279 308.186 721.186 297.657 721.187 287.024C721.187 282.871 721.506 278.742 722.135 274.672C713.657 268.849 704.889 263.426 695.859 258.426C658.269 237.612 616.889 224.541 574.163 219.988C531.437 215.434 488.232 219.489 447.099 231.913ZM319.489 348.564C319.489 363.809 315.185 378.728 307.094 391.613L323.693 420.326C307.59 439.476 285.501 452.638 260.995 457.683L244.582 429.298C237.31 429.844 229.959 429.408 222.73 427.971C207.024 424.848 192.597 417.138 181.273 405.816C169.949 394.495 162.237 380.069 159.112 364.365C155.986 348.661 157.588 332.382 163.715 317.588C169.841 302.794 180.217 290.149 193.531 281.251C206.845 272.354 222.498 267.604 238.511 267.601C249.145 267.6 259.674 269.693 269.499 273.761C279.324 277.829 288.251 283.793 295.77 291.311C303.29 298.829 309.255 307.755 313.325 317.578C317.394 327.402 319.489 337.931 319.489 348.564ZM260.998 457.685L400.599 699.132L442.692 772.036L484.794 699.132L537.279 608.237L589.621 698.805L631.691 771.687L673.783 698.794L744.391 576.462H859.708C861.079 564.36 861.767 552.19 861.769 540.01C861.771 527.83 861.08 515.66 859.697 503.558H702.288L694.971 516.229L631.67 625.857L579.327 535.278L537.235 462.374L495.208 535.289L442.692 626.184L323.7 420.328C307.596 439.478 285.506 452.64 260.998 457.685ZM861.77 540.003C861.768 552.183 861.08 564.353 859.709 576.455H937.128V503.551H859.709C861.088 515.653 861.776 527.823 861.77 540.003ZM937.154 503.558H938.332C939.411 515.563 940 527.721 940 540.01C940 760.902 760.967 940 540.027 940C319.088 940 140 760.924 140 540.031C139.942 500.879 145.66 461.933 156.968 424.449C175.493 444.394 200.696 456.845 227.794 459.44C221.851 485.163 218.231 515.061 218.231 540.01C218.231 717.668 362.259 861.764 540.038 861.764C705.462 861.764 841.629 736.99 859.731 576.462H937.154V503.558Z"
              ></path>
            </svg>
            <p class="font-semibold">WunderGraph Cosmo</p>
          </div>
          <p class="p-4 my-auto">
            The open source alternative to Apollo GraphOS and Federation. Migrate in one click and get rid of vendor
            lock-in. Deploy on-prem or use our cloud.
          </p>
        </a>
      </div>
    </section>

    <section
      id="faq"
      class="xl:grid grid-cols-5 pb-24 lg:py-24 w-full space-y-4 px-4 md:px-8 lg:px-12 mx-auto max-w-screen-2xl"
    >
      <div class="col-span-2">
        <h2 class="text-2xl md:text-4xl xl:text-6xl max-w-2xl xl:max-w-4xl !leading-tight">
          Frequently Asked Questions
        </h2>
      </div>
      <div class="col-span-3 flex flex-col divide-y divide-black">
        <FAQ
          items={[
            {
              question: 'What is the Vision of Open Federation?',
              answer:
                'We believe that GraphQL and especially Federation has a bright future ahead in the API space. Such an important Specification needs to be open and vendor-neutral. Being able to choose between different implementation and vendors is crucial for the success of Federated GraphQL. Healthy competition is good for the ecosystem and will drive innovation.',
            },
            {
              question: 'What is the Mission of Open Federation?',
              answer:
                'Open Federation aims to provide clarity in terms of how to implement Gateways and Services in a federated GraphQL architecture and to define a clear set of rules for how to implement composition checks for federated GraphQL APIs.',
            },
            {
              question: 'Is Open Federation compatible with Apollo Federation v1 and v2?',
              answer:
                'Yes, Open Federation uses exactly the same Directives and is therefore compatible with Apollo Federation v1 and v2 Subgraphs. The goal of Open Federation is to always be compatible with the latest version of Apollo Federation to make it easy for people to migrate.',
            },
            {
              question: 'Who is behind Open Federation and how can I be involved?',
              answer:
                'Open Federation is initiated by WunderGraph and The Guild. We are looking for more contributors to help us shape the future of federated GraphQL APIs. If you are interested, please join our Discord.',
            },
          ]}
          client:idle
        />
      </div>
    </section>

    <Footer />
  </main>
  <GraphParticles />
</Layout>
